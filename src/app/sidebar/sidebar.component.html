<aside
  class="flex flex-col w-64 h-screen px-4 py-8 overflow-y-auto bg-white border-r rtl:border-r-0 rtl:border-l dark:bg-gray-900 dark:border-gray-700 sticky top-0"
>
  <a href="/" class="mx-auto">
    <app-logo></app-logo>
  </a>

  <div class="flex flex-col items-center mt-6 -mx-2">
    <img
      class="object-cover w-24 h-24 mx-2 rounded-full"
      [src]="
        userData?.profilePicture
          ? 'http://localhost:3000/' + userData.profilePicture
          : 'https://icons.veryicon.com/png/o/miscellaneous/user-avatar/user-avatar-male-5.png'
      "
      alt="Profile Picture"
    />
    <h4
      [routerLink]="['/profile', userId]"
      class="mx-2 mt-2 font-medium text-gray-800 dark:text-gray-200 cursor-pointer"
    >
      {{ username || "User" }}
    </h4>
    <p class="mx-2 mt-1 text-sm font-medium text-gray-600 dark:text-gray-400">
      {{ email || "user@example.com" }}
    </p>
  </div>

  <div class="flex flex-col justify-between flex-1 mt-6">
    <nav>
      <a
        [routerLink]="['/']"
        [routerLinkActive]="['bg-gray-100', 'dark:bg-gray-800']"
        [routerLinkActiveOptions]="{ exact: true }"
        [ngClass]="{
          'text-gray-700': isActiveRoute('/'),
          'text-gray-500': !isActiveRoute('/')
        }"
        class="flex items-center px-4 py-2 rounded-lg dark:text-gray-200"
      >
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M19 11H5M19 11C20.1046 11 21 11.8954 21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V13C3 11.8954 3.89543 11 5 11M19 11V9C19 7.89543 18.1046 7 17 7M5 11V9C5 7.89543 5.89543 7 7 7M7 7V5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V7M7 7H17"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <span class="mx-4 font-medium">Feed</span>
      </a>


      <a
        [routerLink]="['/profile', userId]"
        [routerLinkActive]="['bg-gray-100', 'dark:bg-gray-800']"
        [ngClass]="{
          'text-gray-700': isActiveRoute('/profile'),
          'text-gray-500': !isActiveRoute('/profile')
        }"
        class="flex items-center px-4 py-2 mt-5 rounded-lg dark:text-gray-200"
      >
        <svg
          class="w-5 h-5"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>

        <span class="mx-4 font-medium">Profile</span>
      </a>

      <!-- Admin Dashboard -->
      <a
        *ngIf="isAdmin"
        [routerLink]="['/admin']"
        [routerLinkActive]="['bg-gray-100', 'dark:bg-gray-800']"
        [ngClass]="{
          'text-yellow-600': isActiveRoute('/admin'),
          'text-gray-500': !isActiveRoute('/admin')
        }"
        class="flex items-center px-4 py-2 mt-5 rounded-lg dark:text-gray-400"
      >
        <svg xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke-width="1.5" 
          stroke="orange" 
          class="size-6"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
        </svg>

        <span class="text-yellow-600 mx-4 font-medium">Admin Dashboard</span>
      </a>

      <!-- Settings -->
      <a
        [routerLink]="['/settings']"
        [routerLinkActive]="['bg-gray-100', 'dark:bg-gray-800']"
        [ngClass]="{
          'text-gray-700': isActiveRoute('/settings'),
          'text-gray-500': !isActiveRoute('/settings')
        }"
        class="flex items-center px-4 py-2 mt-5 rounded-lg dark:text-gray-200"
      >
        <svg
          class="w-5 h-5"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="3" />
          <path
            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V20a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-.09a1.65 1.65 0 0 0-1-.33 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0-.33-1.82v-.09a1.65 1.65 0 0 0-1.51-1H4a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0 1-.33V4a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 .33 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0 .33 1.82v.09a1.65 1.65 0 0 0 1.51 1H20a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
        />
        </svg>

        <span class="mx-4 font-medium">Settings</span>
      </a>

      <a
        (click)="logout()"
        class="flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-300 transform rounded-lg dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="red"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"
          />
        </svg>

        <span class="mx-4 font-medium text-red-600">Logout</span>
      </a>

      <div class="flex items-center px-4 py-2 mt-5">
        <app-theme-toggle></app-theme-toggle>
      </div>
    </nav>
  </div>
</aside>
